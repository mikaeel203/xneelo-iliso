<!-- 🕵️‍♂️ The mysterious document that holds it all together -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- 🤖 Robot whispering: Behold, the sacred character and scaling rituals -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- 🧱 A secret society of icons -->
    <link
      href="https://cdn.boxicons.com/fonts/basic/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- 🏷️ The crown jewel -->
    <title>Attendance Dashboard</title>

    <style>
      * {
        font-family: "Inter", "Open Sans", sans-serif;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", "Open Sans", sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        height: 100%;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }
      .dashboard-container {
        display: flex;
        justify-content: center;
        align-items: center;
        color: #000000;
        height: 100vh;
        width: 100%;
      }

      .sidebar {
        display: flex;
        flex-direction: column;
        width: 250px;
        background: #f8f9fb;
        padding: 1rem;
        height: 100vh;
        transition: max-height 0.3s ease, background-color 0.3s ease;
      }

      .flex-spacer {
        flex-grow: 1;
      }

      .sidebar-header .brand {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0 auto 50px auto;
        padding: 0.5rem 0;
      }

      .sidebar-header .brand img {
        max-width: 100%;
        max-height: 50px;
        object-fit: contain;
      }

      .sidebar ul {
        list-style: none;
        padding: 0;
      }

      .sidebar ul li:hover {
        transform: scale(1.05);
      }

      .sidebar ul li.active {
        background-color: #0f4392;
      }

      .nav-link {
        display: flex;
        align-items: center;
        color: #f8f9fb;
        width: 100%;
        text-decoration: none;
        background: none;
        border: none;
        font: inherit;
        cursor: pointer;
      }

      .nav-link i {
        font-size: 1.8rem;
        margin-right: 10px;
        color: #f8f9fb;
      }

      .sidebar ul li {
        border-radius: 6px;
        margin: 8px 0;
        padding: 10px;
        opacity: 1;
        transform: scaleY(1);
        background-color: #0f4392;
        transition: opacity 0.3s ease, transform 0.3s ease;
        transform-origin: top;
        cursor: pointer;
      }

      #logoutButton {
        justify-content: center;
        padding: 0.8rem;
        text-align: center;
      }

      .logout-modal {
        background: white;
        padding: 2rem;
        border-radius: 10px;
        text-align: center;
        max-width: 300px;
        margin: auto;
      }

      .logout-modal p {
        margin-bottom: 1rem;
        font-weight: bold;
      }

      .button-group {
        display: flex;
        justify-content: space-between;
        gap: 1rem;
      }

      .button-group button {
        flex: 1;
        padding: 10px 5px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
      }

      #confirmLogoutBtn {
        background-color: #ea1c1f;
        font-size: 13px;
      }

      #cancelLogoutBtn {
        background-color: #ccc;
        padding: auto;
      }

      #confirmLogoutBtn:hover {
        background-color: #ff0307;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      #cancelLogoutBtn:hover {
        background-color: #b3b3b3;
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }
      .button-group button {
        transition: all 0.2s ease-in-out;
      }

      .welcome-msg {
        display: flex;
        padding: 15px;
        justify-content: space-between;
        align-items: center;
      }

      .menu-toggle {
        display: none;
        position: fixed;
        top: 15px;
        left: 15px;
        z-index: 1000;
        background: #f8f9fb;
        border: none;
        border-radius: 5px;
        padding: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        cursor: pointer;
      }

      .Tara-Pfp {
        width: 60px;
        height: 50px;
      }

      .metrics-dashboard {
        display: flex;
        justify-content: center;
        gap: 2rem; /* Increased gap for more spacing */
        padding: 1.5rem; /* Slightly more padding */
        flex-wrap: wrap;
        display: none;
      }

      .metric-box {
        background-color: #f5f5f5;
        border: 2px solid #ddd;
        border-radius: 12px;
        padding: 1.5rem; /* More padding inside the box */
        width: 200px; /* Larger width */
        height: 160px; /* Larger height */
        text-align: center;
        transition: transform 0.2s ease, background-color 0.2s ease;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); /* Slightly stronger shadow */
      }

      .metric-box:hover {
        transform: scale(1.1); /* Slightly bigger scale on hover */
      }

      #onsiteBox {
        background-color: #00b0871a;
        border-color: #00b087;
      }

      #offsiteBox {
        background-color: #df04041a;
        border-color: #df0404;
      }

      #unmarkedBox {
        background-color: #b5b7c01a;
        border-color: #b5b7c0;
      }

      #onsiteBox:hover {
        background-color: #00b08733;
      }
      #offsiteBox:hover {
        background-color: #df040433;
      }
      #unmarkedBox:hover {
        background-color: #b5b7c033;
      }

      .metric-box h3 {
        font-size: 1.25rem; /* Larger font */
        margin-bottom: 0.5rem; /* More margin for spacing */
      }

      .metric-box .count {
        font-size: 2rem;
        font-weight: bold;
        color: #000; /* Let the background color do the talking */
      }

      .controls {
        margin-top: 1rem;
        text-align: center;
      }

      .controls button {
        margin: 0.5rem;
        padding: 8px 18px;
        background-color: #007acc;
        color: white;
        border: none;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .controls button:hover {
        background-color: #005f99;
      }

      /* ===================== Search ===================== */

      .search-contain {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .search-icon-input {
        position: relative;
        display: inline-block;
        width: 250px;
      }

      .overlay-icon {
        position: absolute;
        top: 10px;
        left: 5px;
      }

      .search-icon-input .search-box {
        width: 100%;
        padding: 5px;
        font-size: 14px;
        border: 1px solid #f8f9fb;
        border-radius: 6px;
        outline: none;
        background-color: #f8f9fb;
        color: #333;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
      }

      .search-icon-input .search-box:focus {
        border-color: #004aad;
        box-shadow: 0 0 5px rgba(0, 74, 173, 0.4);
      }

      .search-icon-input .bx-search-alt {
        position: absolute;
        top: 50%;
        left: 10px;
        transform: translateY(-50%);
        color: #888;
        font-size: 18px;
        pointer-events: none;
      }

      .search-bar {
        display: flex;
        align-items: center;
        gap: 2rem;
        margin-right: 100px;
      }

      .search-icon-input {
        position: relative;
        display: inline-block;
      }

      .search-icon-input .search-box {
        padding-left: 30px;
        height: 36px;
        border: 1px solid #ccc;
        border-radius: 12px;
        font-size: 14px;
        width: 200px;
      }

      .search-icon-input .search-icon {
        position: absolute;
        top: 50%;
        left: 10px;
        transform: translateY(-50%);
        color: #999;
        font-size: 18px;
        pointer-events: none;
      }

      #sortByStatus {
        width: 180px;
        padding: 8px 12px;
        font-size: 14px;
        border: 1px solid #ccc;
        border-radius: 6px;
        background-color: #f9f9f9;
        color: #333;
        outline: none;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
      }

      .sortByStatus:focus {
        border-color: #004aad;
        box-shadow: 0 0 5px rgba(0, 74, 173, 0.5);
      }

      /* ===================== Table ===================== */

      .table-container {
        max-height: 300px;
        overflow-y: auto;
        border: 1px solid #f8f9fb;
        border-radius: 6px;
      }

      .table-container thead th {
        position: sticky;
        top: 0;
        background-color: #f8f9fb;
        z-index: 2;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .table-container table {
        width: 100%;
        border-collapse: collapse;
      }

      .table-container th,
      .table-container td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #f8f9fb;
      }

      button.onsite {
        background-color: rgba(0, 176, 135, 0.38);
        /* #00B087 at 38% opacity */
        border-color: #00b087;
        color: #00b087;
      }

      button.offsite {
        background-color: rgba(255, 71, 71, 0.38);
        /* #FF4747 at 38% opacity */
        border-color: #ff4747;
        color: #ff4747;
      }

      .active-employees {
        background-color: #fff;
        width: 1250px;

        border-radius: 30px;
        box-shadow: 0 10px 60px rgba(226, 236, 249, 0.5);
        padding: 20px;
      }

      .active-employees table {
        width: 100%;
        border-collapse: collapse;
        font-family: "Poppins", sans-serif;
        font-size: 14px;
        color: #292d32;
      }

      .active-employees th,
      .active-employees td {
        padding: 12px 16px;
        text-align: left;
        vertical-align: middle;
        border-bottom: 1px solid #e0e0e0;
      }

      .active-employees th {
        font-weight: 600;
        background-color: #fff;
        color: #b5b7c0;
      }

      .active-employees h3 {
        font-family: "Poppins", sans-serif;
        font-weight: 600;
        font-size: 22px;
        line-height: 100%;
        letter-spacing: -0.01em;
        color: #333333;
      }

      button {
        font-size: 14px;
        margin-top: 10px;
        font-weight: 600;
        border-radius: 4px;
        padding: 4px 12px;
        border: 1px solid;
        cursor: default;
        width: fit-content;
        height: 29px;
        text-align: center;
        gap: 10px;
      }

      .pagination {
        display: flex;
        gap: 10px;
        align-items: right;
        justify-content: right;
        margin-top: 24px;
        font-family: "Poppins", sans-serif;
        font-size: 14px;
        color: #000;
      }

      .pagination nav {
        display: flex;
        gap: 6px;
      }

      .pagination a {
        display: inline-block;
        padding: 6px 10px;
        border-radius: 4px;
        border: 1px solid #e5e7eb;
        background-color: #f9fafb;
        color: #0f4392;
        text-decoration: none;
        font-weight: 500;
        min-width: 25px;
        text-align: center;
        gap: 10px;
        transition: background-color 0.2s, color 0.2s;
      }

      .pagination a:hover {
        background-color: #e5e7eb;
      }

      .pagination a.active {
        background-color: #0f4392;
        color: #fff;
        border-color: #0f4392;
      }
      /* ===================== Modal ===================== */

      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
      }

      .modal-content {
        background: #f8f9fb;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        width: 400px;
        max-width: 90%;
        padding: 2rem 2.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        backdrop-filter: blur(4px);
      }

      .modal-content {
        background: #f8f9fb;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        width: 400px;
        max-width: 90%;
        padding: 2rem 2.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .modal-content h2 {
        margin: 0 0 1rem 0;
        font-weight: 700;
        color: #0f4392;
        text-align: center;
      }

      .modal-content input {
        padding: 0.6rem 1rem;
        border: 1.5px solid #f8f9fb;
        border-radius: 8px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
      }

      .modal-content input:focus {
        outline: none;
        border-color: #0f4392;
        box-shadow: 0 0 5px #004aad66;
      }

      .button-group {
        display: flex;
        justify-content: space-between;
        gap: 1rem;
        margin-top: 1rem;
      }

      .button-group button {
        flex: 1;
        padding: 0.75rem 1.2rem;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
      }

      /* Submit Button */
      .button-group button:first-of-type {
        background-color: #004aad;
        color: #fff;
      }

      .button-group button:first-of-type:hover {
        background-color: #0f4392;
        transform: translateY(-2px);
      }

      /* Cancel Button */
      .button-group button:last-of-type {
        background-color: #f0f0f0;
        color: #333;
      }

      .button-group button:last-of-type:hover {
        background-color: #dcdcdc;
        transform: translateY(-2px);
      }

      /* ===================== Dropdown & Buttons ===================== */

      select {
        width: 100%;
        height: 36px;
        padding: 0 1rem;
        box-sizing: border-box;
        border-radius: 10px;
        background-color: #f8f9fb;
        color: #1f1f1f;
        letter-spacing: -0.01em;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg fill='%23444' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 1rem center;
        background-size: 25px;
      }

      /* Shared button styles */
      .button-group {
        display: flex;
        padding: 20px;
        justify-content: space-between;
        gap: 1rem;
        margin-top: 1rem;
      }

      .button-group button {
        flex: 1;
        padding: 0.75rem 1.2rem;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
      }

      .button-group button:first-of-type {
        background-color: #004aad;
        color: #f8f9fb;
      }

      .button-group button:last-of-type {
        background-color: #f8f9fb;
        color: #1f1f1f;
      }

      /* ===================== Profile Dropdown ===================== */

      .profile-dropdown {
        width: 200px;
      }

      .profile-dropdown .nav-link:hover {
        background-color: rgba(0, 0, 0, 0.5);
      }

      .profile-dropdown .nav-link {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        width: 100%;
        color: #1f1f1f;
        padding: 25px;
        background: transparent;
        border: none;
        border-radius: 8px;
        cursor: pointer;
      }

      .user-info-dropdown {
        background: #f8f9fb;
        border-radius: 8px;
        margin-top: 10px;
        padding: 15px;
        box-shadow: 0 0px 12px rgba(0, 0, 0, 0.2);
        width: 180px;
      }

      /* ===================== Footer ===================== */

      footer {
        text-align: center;
      }

      .footer-slogan {
        color: #1f1f1f;
        padding-top: 10px;
      }

      .title {
        margin: 20px;
        text-align: center;
        font-weight: 600;
      }

      /* ===================== Panic Button Styles Outside Dashboard ===================== */
      .panic-button-container {
        position: fixed;
        top: 40px;
        right: 20px;
        z-index: 999;
      }

      .panic-button {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 120px;
        height: 50px;
        border: none;
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        overflow: hidden;
      }

      .panic-button.off {
        background-color: transparent; /* No background color when off */
      }

      .panic-button.on {
        background-color: transparent; /* No background color when off */
      }

      /* Toggle Switch (Circular) Dashboard*/
      .panic-button .toggle-switch {
        position: relative;
        width: 30px;
        height: 18px;
        border-radius: 10px;
        background-color: #918f8f; /* Gray when off */
        transition: background-color 0.3s ease;
      }

      .panic-button.on .toggle-switch {
        background-color: #f51313; /* Red when on */
      }

      .panic-button .toggle-switch::before {
        content: "";
        position: absolute;
        top: 2px;
        left: 2px;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background-color: #fff; /* White circle within the buttons */
        transition: transform 0.3s ease;
      }

      .panic-button.on .toggle-switch::before {
        transform: translateX(14px); /* Move circle to the right when on */
      }
      /* ===================== Panic Button Confirmation Modal Styles ===================== */
      #panic-confirmation-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
      }

      .modal-content {
        background: #f8f9fb;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        width: 400px;
        max-width: 90%;
        padding: 2rem 2.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        font-family: "Inter", "Open Sans", sans-serif;
      }

      .modal-content h2 {
        margin: 0 0 1rem 0;
        font-weight: 700;
        color: #0f4392;
        text-align: center;
      }

      .modal-content p {
        text-align: center;
        font-size: 16px;
        color: #333;
      }

      /* Warning Section */
      .warning-section {
        background-color: #fff5cd;
        border-left: 5px solid #ff9f43;
        padding: 10px 15px;
        display: flex;
        align-items: center;
        gap: 10px;
        border-radius: 6px;
      }

      .warning-section i {
        font-size: 20px;
        color: #ff9f43;
      }

      .warning-section span {
        font-weight: bold;
        color: #ff9f43;
      }

      .warning-section p {
        font-size: 14px;
        color: #333;
        margin: 0;
        flex-grow: 1;
      }
      /* Buttons Group */
      .button-group {
        display: flex;
        justify-content: space-between;
        gap: 1rem;
        margin-top: 1rem;
      }

      .button-group button {
        flex: 1;
        padding: 0.75rem 1.2rem;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 48px;
        font-family: "Inter", "Open Sans", sans-serif;
        transition: none; /* No hover effects */
      }

      /* Cancel Button - Target by ID (#) */
      #cancel-panic {
        background-color: #d9d9d9; /* New background color */
        color: #333;
        border: none;
        cursor: pointer;
      }

      /* Confirm Button - Keep targeting last button in group */
      .button-group button:last-of-type {
        background-color: #004aad;
        color: #fff;
        border: none;
        cursor: pointer;
      }

      /* responsive design */
      /* tablet */
      @media (max-width: 1024px) {
        .dashboard-container {
          display: flex;
          flex-direction: column;
          /* border: 2px solid red; */
          width: 100%;
        }
        .sidebar {
          /* border: 2px solid red; */
          display: flex;
          width: 95%;
          flex-direction: column;
          justify-content: center;
          /* height: 300px; */
          /* gap: 3rem; */
        }
        .active-employees {
          /* border: 2px solid red; */
          width: 100%;
        }
        .flex-spacer {
          display: none;
        }
      }
      /* iphone 12 mobile */

      /* mobile */

      @media (max-width: 768px) {
        .dashboard-container {
          display: flex;
          flex-direction: column;
          /* border: 2px solid red; */
          width: 100%;
        }
        /* .profile-dropdown{
  border: 2px solid black;
} */
        .sidebar {
          /* border: 2px solid red; */
          display: flex;
          width: 95%;
          flex-direction: column;
          justify-content: center;
          /* height: 200px; */
          /* gap: 3rem; */
        }

        #topMenu {
          display: flex;
          /* border: 2px solid black; */
          width: 450px;
          flex-direction: row;
          gap: 3rem;
        }

        .sidebar img {
          /* border: 2px solid black; */
          width: 100px;
        }

        /* .main-board{
    border: 2px solid blue;
    width: 500px;
    
  } */

        .active-employees {
          /* border: 2px solid red; */
          width: 95%;
        }

        .search-contain h3 {
          display: none;
        }

        .search-bar {
          width: 250px;
        }

        .metric-box {
          width: 120px;
          height: 90px;
          border: 2px solid black;
        }

        .right-hand-stuff {
          /* border: 2px solid blue; */
          display: flex;
          width: 100%;
          /* justify-content: center; */
          align-items: center;
        }

        /* .nav-link{
    
  } */
      }

      /* smaller devices */
      @media (max-width: 600px) {
        .dashboard-container {
          display: flex;
          flex-direction: column;
          /* border: 2px solid red; */
          width: 100%;
        }
        .sidebar {
          /* border: 2px solid red; */
          display: flex;
          width: 95%;
          flex-direction: column;
          justify-content: center;
          /* height: 200px; */
          /* gap: 3rem; */
          align-items: center;
        }

        #topMenu {
          display: flex;
          /* border: 2px solid black; */
          width: 170px;
          flex-direction: column;
          gap: 3rem;
        }

        .active-employees {
          /* border: 2px solid red; */
          width: 100%;
        }

        .main-board {
          /* border: 2px solid blue; */
          width: 90%;
        }
        .search-bar {
          width: 150px;
        }

        #logoutButton {
          width: 170px;
        }

        /* Hide the Department, Clock In Time, Email, and Employee ID columns */
        #tableContainer th:nth-child(2), /* Department */
#tableContainer th:nth-child(3), /* Clock In Time */
#tableContainer th:nth-child(4), /* Email */
#tableContainer th:nth-child(5)  /* Employee ID */ {
          display: none;
        }

        #employeeTableBody td:nth-child(2), /* Department */
#employeeTableBody td:nth-child(3), /* Clock In Time */
#employeeTableBody td:nth-child(4), /* Email */
#employeeTableBody td:nth-child(5)  /* Employee ID */ {
          display: none;
        }
      }
    </style>
  </head>

  <body>
    <!-- 🏗️ The Grand Container of All Things UI -->
    <div class="dashboard-container">
      <!-- 🍔 Suspiciously burger-shaped button that hides power -->
      <button class="menu-toggle" id="menuToggle">
        <span id="menuIcon">☰</span>
      </button>

      <!-- 🧱 Sidebar: The lefty that holds all the secrets -->
      <aside class="sidebar" id="sidebar">
        <!-- 🧾 Where logos flex harder than muscles -->
        <div class="sidebar-header">
          <span>
            <div class="brand">
              <img
                src="https://github.com/luthandodake10111/iliso--frontend-images-/raw/main/iliso%20logo.png"
                alt="Logo"
              />
            </div>
          </span>
        </div>

        <!-- 📋 TOP SECRET MENU FOR THE ELITE -->
        <ul class="nav-menu top-menu" id="topMenu">
          <li class="nav-link" id="addminButton">
            <i class="bx bx-user-plus"></i>
            <a href="Admin.html"> <span>View Admin</span></a>
          </li>
          <li class="nav-link" id="employeeButton">
            <i class="bx bx-user-plus"></i>
            <span>View Employee</span>
          </li>
        </ul>

        <!-- ⛓️ Invisible shackles holding the sidebar together -->
        <div class="flex-spacer"></div>

        <!-- 😎 Profile button pretending to be modest -->
        <div class="profile-dropdown">
          <button class="nav-link" id="profileButton">
            <img
              src="https://github.com/luthandodake10111/iliso--frontend-images-/raw/main/tara%20logo.png"
              alt="Profile"
              class="profile-image"
            />
            <span class="tooltip">Tara Snell</span>
          </button>

          <!-- 🕶️ Secret dropdown that only appears under duress -->
          <div
            class="user-info-dropdown"
            id="userInfoDropdown"
            style="display: none"
          >
            <div class="user-details">
              <div class="user-title">Project Manager</div>
            </div>
          </div>
        </div>

        <!-- 😬 Guilt-inducing logout prompt -->
        <div class="modal-overlay" id="logoutModal" style="display: none">
          <div class="logout-modal">
            <p>⚠️ Are you sure you want to log out?</p>
            <div class="button-group">
              <button id="confirmLogoutBtn">Yes, log me out</button>
              <button id="cancelLogoutBtn">Cancel</button>
            </div>
          </div>
        </div>

        <!-- 👋 Exit stage left -->
        <ul class="nav-menu bottom-menu" id="bottomMenu">
          <li class="nav-link" id="logoutButton">
            <span>Log-Out</span>
          </li>
        </ul>
      </aside>

      <!-- ✍️ Admin Application Chamber -->
      <div class="modal-overlay" id="adminModal" style="display: none">
        <div class="modal-content">
          <form action="" method="post">
            <h2>Add Admin</h2>
            <input type="text" placeholder="Username" id="adminName" />
            <input type="text" placeholder="Email" id="adminEmail" />
            <input type="phone" placeholder="Phone number" id="adminNumber" />
            <input type="password" placeholder="Password" id="adminPassword" />
            <input
              type="password"
              placeholder="Main Password"
              id="adminMainPassword"
            />
            <div class="button-group">
              <button id="submitadmin">Submit</button>
              <button id="canceladmin">Cancel</button>
            </div>
          </form>
        </div>
      </div>

      <!-- 🧑‍💼 Employee Entry Portal -->
      <div class="modal-overlay" id="employeeModal" style="display: none">
        <div class="modal-content">
          <form action="" method="post">
            <h2>Add Employee</h2>
            <input type="text" placeholder="Employee Name" id="employeeName" />
            <select name="Dept" id="empDept">
              <option value="" selected>Select Department</option>
              <option value="hr">HR</option>
              <option value="sales-force">Sales Force</option>
              <option value="Academy">Academy</option>
              <option value="lc-studio">LC Studio</option>
            </select>
            <input
              type="email"
              placeholder="Email"
              id="email"
              autocomplete="email"
            />
            <input type="text" placeholder="Employee ID" id="employeeId" />
            <div class="button-group">
              <button id="submitemployee">Submit</button>
              <button id="cancelemployee">Cancel</button>
            </div>
          </form>
        </div>
      </div>

      <!-- 📊 The Throne Room: Where data bows before you -->
      <div class="main-board">
        <!-- 🙌 Welcome committee -->
        <div class="welcome-msg">
          <h2>Welcome Tara 👋🏻</h2>
        </div>

        <!-- ⚙️ Dashboard of suspicious metrics -->
        <section class="metrics-dashboard">
          <div class="metric-box" id="onsiteBox">
            <h3>On-Site</h3>
            <p class="count" id="onsiteCount">0</p>
          </div>
          <div class="metric-box" id="offsiteBox">
            <h3>Off-Site</h3>
            <p class="count" id="offsiteCount">0</p>
          </div>
          <div class="metric-box" id="unmarkedBox">
            <h3>Unmarked</h3>
            <p class="count" id="unmarkedCount">0</p>
          </div>
        </section>

        <!-- 📋 Employee Intel Database -->
        <section class="active-employees">
          <div class="search-contain">
            <h3>Active Employees</h3>
            <div class="search-bar">
              <div class="search-icon-input">
                <i class="bx bx-search-alt search-icon"></i>
                <input
                  type="text"
                  class="search-box"
                  placeholder="Search"
                  id="searchBox"
                />
              </div>
              <select id="sortByStatus">
                <option value="all">Sort by: All</option>
                <option value="On Site">Sort by: On Site</option>
                <option value="Off Site">Sort by: Off Site</option>
              </select>
            </div>
          </div>
          <!-- 🗂️ The Unholy Table of Truth -->
          <div class="table-container" id="tableContainer">
            <table>
              <thead>
                <tr>
                  <th>Employee Name</th>
                  <th>Department</th>
                  <th>Clock In Time</th>
                  <th>Email</th>
                  <th>Employee ID</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="employeeTableBody"></tbody>
            </table>
          </div>

          <!-- 🧭 Page-turning wizardry -->
          <div class="pagination" id="pagination">
            <span id="dataInfo">Showing data 1 to 8 of 256K entries</span>
            <nav id="paginationNav">
              <a href="#" id="prevPage" class="nav-link">Previous</a>
              <span id="pageLinks"></span>
              <a href="#" id="nextPage" class="nav-link">Next</a>
            </nav>
          </div>
        </section>

        <!-- 🪄 Footer so good it powers everything -->
        <footer>
          <div class="footer-slogan" id="updatePagination">
            Powered By ILISO
          </div>
        </footer>
      </div>
    </div>
    <div class="panic-button-container">
      <button id="panic-button" class="panic-button off">
        <span class="toggle-switch"></span>
      </button>
    </div>

    <!-- Panic Button Confirmation Modal -->
    <div id="panic-confirmation-modal" style="display: none">
      <div class="modal-content">
        <h2>Activate Panic Mode</h2>
        <p>Are you sure you want to activate the panic mode?</p>
        <div class="warning-section">
          <i class="bx bx-error-circle"></i>
          <span>Warning</span>
          <p>This will trigger an alert to all users and emergency systems.</p>
        </div>
        <div class="button-group">
          <button id="confirm-continue">Continue</button>
          <button id="cancel-panic">Cancel</button>
        </div>
      </div>
    </div>
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />

    <!-- 🔮 JavaScript sorcery begins here -->
    <script>
      // ==========================================
      // 🎩 Magical Employee Dashboard Engine v1.0 🎩
      // WARNING: Contains traces of logic and mystery.
      // ==========================================

      // ~~~ CONTROL CENTER: DOM War Room ~~~
      const menuToggle = document.getElementById("menuToggle");
      const sidebar = document.getElementById("sidebar");
      const profileButton = document.getElementById("profileButton");
      const userInfoDropdown = document.getElementById("userInfoDropdown");
      const adminModal = document.getElementById("adminModal");
      const employeeModal = document.getElementById("employeeModal");
      const logoutModal = document.getElementById("logoutModal");
      const submitadminButton = document.getElementById("submitadmin");
      const canceladminButton = document.getElementById("canceladmin");
      const submitemployeeButton = document.getElementById("submitemployee");
      const cancelemployeeButton = document.getElementById("cancelemployee");
      const employeeTableBody = document.getElementById("employeeTableBody");
      const pagination = document.getElementById("pagination");
      const searchBox = document.getElementById("searchBox");
      const sortByStatus = document.getElementById("sortByStatus");
      const dataInfo = document.getElementById("dataInfo");

      const errorMessageElement = document.getElementById("error-message"); // Error message display

      // ~~~ BACKSTAGE: Tracking the Unsuspecting ~~~
      let allEmployees = [];
      let currentPage = 1;
      const pageSize = 5;

      // ~~~ OPERATION: Slide the Sidebar (Shhh!) ~~~
      menuToggle.addEventListener("click", () => {
        sidebar.classList.toggle("mobile-open"); // Click to reveal classified material.
      });

      // ~~~ PROFILE POP-UP TRAP ~~~
      profileButton.addEventListener("click", () => {
        const isVisible = userInfoDropdown.style.display === "block";
        userInfoDropdown.style.display = isVisible ? "none" : "block";
      });

      // ~~~ NINJA MOVE: Click Outside to Vanish ~~~
      document.addEventListener("click", (e) => {
        if (
          !profileButton.contains(e.target) &&
          !userInfoDropdown.contains(e.target)
        ) {
          userInfoDropdown.style.display = "none";
        }
      });

      // ~~~ DATA FETCHED FROM THE MATRIX ~~~
      fetch("./assets/employees_data.json")
        .then((res) => res.json())
        .then((data) => {
          allEmployees = data.allEmployees || [];
          renderEmployeeTable(); // May or may not summon unicorns.
        })
        .catch((err) => console.error("Error loading employees:", err));

      // ~~~ THE GREAT TABLE SUMMONING ~~~
      function renderEmployeeTable() {
        employeeTableBody.innerHTML = ""; // Goodbye old truths.

        const searchTerm = searchBox.value.toLowerCase();
        const selectedStatus = sortByStatus.value;

        const filteredEmployees = allEmployees.filter((emp) => {
          const matchSearch =
            emp.name.toLowerCase().includes(searchTerm) ||
            emp.department.toLowerCase().includes(searchTerm) ||
            emp.email.toLowerCase().includes(searchTerm) ||
            emp.id.toLowerCase().includes(searchTerm);
          const matchStatus =
            selectedStatus === "all" || emp.status === selectedStatus;
          return matchSearch && matchStatus;
        });

        const start = (currentPage - 1) * pageSize;
        const paginated = filteredEmployees.slice(start, start + pageSize);

        paginated.forEach((emp) => {
          const row = document.createElement("tr");
          row.innerHTML = `
      <td>${emp.name}</td>
      <td>${emp.department}</td>
      <td>${emp.time}</td>
      <td>${emp.email}</td>
      <td>${emp.id}</td>
      <td><button class="${emp.status === "On Site" ? "onsite" : "offsite"}">${
            emp.status
          }</button></td>
    `;
          employeeTableBody.appendChild(row);
        });

        updateDataInfo(filteredEmployees.length);
        updatePagination(filteredEmployees.length);
      }

      // ~~~ STAT BOARD: Probably Accurate ~~~
      function updateDataInfo(total) {
        const startEntry = (currentPage - 1) * pageSize + 1;
        const endEntry = Math.min(currentPage * pageSize, total);
        dataInfo.textContent = `Showing data ${startEntry} to ${endEntry} of ${total} entries`;
      }

      // ~~~ THE PAGINATION CIRCUS 🎪 ~~~
      function updatePagination(total) {
        pagination.innerHTML = "";
        const totalPages = Math.ceil(total / pageSize);

        const prev = document.createElement("a");
        prev.textContent = "Previous";
        prev.href = "#";
        prev.className = currentPage === 1 ? "disabled" : "";
        prev.addEventListener("click", (e) => {
          e.preventDefault();
          if (currentPage > 1) {
            currentPage--;
            renderEmployeeTable();
          }
        });
        pagination.appendChild(prev);

        for (let i = 1; i <= totalPages; i++) {
          const page = document.createElement("a");
          page.textContent = i;
          page.href = "#";
          page.className = i === currentPage ? "active" : "";
          page.addEventListener("click", (e) => {
            e.preventDefault();
            currentPage = i;
            renderEmployeeTable();
          });
          pagination.appendChild(page);
        }

        const next = document.createElement("a");
        next.textContent = "Next";
        next.href = "#";
        next.className = currentPage === totalPages ? "disabled" : "";
        next.addEventListener("click", (e) => {
          e.preventDefault();
          if (currentPage < totalPages) {
            currentPage++;
            renderEmployeeTable();
          }
        });
        pagination.appendChild(next);
      }

      // ~~~ THE FILTERED REBELLION ~~~
      searchBox.addEventListener("input", () => {
        currentPage = 1;
        renderEmployeeTable();
      });

      sortByStatus.addEventListener("change", () => {
        currentPage = 1;
        renderEmployeeTable();
      });

      // ~~~ ESCAPE ROUTE: Logout Drama ~~~
      document.addEventListener("DOMContentLoaded", () => {
        const logoutButton = document.getElementById("logoutButton");
        const logoutModal = document.getElementById("logoutModal");
        const confirmLogoutBtn = document.getElementById("confirmLogoutBtn");
        const cancelLogoutBtn = document.getElementById("cancelLogoutBtn");

        if (logoutButton) {
          logoutButton.addEventListener("click", () => {
            logoutModal.style.display = "flex";
          });
        }

        if (confirmLogoutBtn) {
          confirmLogoutBtn.addEventListener("click", () => {
            logoutModal.innerHTML = `
        <div class="logout-modal">
          <p>✅ Logged out successfully!</p>
        </div>
      `;
            setTimeout(() => {
              window.location.href = "login.html";
            }, 2000);
          });
        }

        if (cancelLogoutBtn) {
          cancelLogoutBtn.addEventListener("click", () => {
            logoutModal.style.display = "none";
          });
        }
      });

      // ~~~ METRICS THAT MAY OR MAY NOT BE WATCHING YOU ~~~
      const counts = {
        onSite: 0,
        offSite: 0,
        unmarked: 0,
      };

      function updateCount(type) {
        if (counts[type] !== undefined) {
          counts[type]++;
          document.getElementById(`${type}Count`).textContent = counts[type];
        }
      }

      // ~~~ ADD EMPLOYEE FUNCTIONALITY (INTEGRATED WITH PHP) ~~~
      submitemployeeButton.addEventListener("click", (event) => {
        event.preventDefault(); // Prevent the default form submission
        employeeModal.style.display = "none";

        // Get the values from the input fields
        const employeeName = document.getElementById("employeeName").value;
        const empDept = document.getElementById("empDept").value;
        const email = document.getElementById("email").value;
        const employeeId = document.getElementById("employeeId").value;

        // Basic validation (you should add more robust validation)
        if (!employeeName || !empDept || !email || !employeeId) {
          alert("Please fill in all fields.");
          return;
        }

        // Create an object with the employee data
        const employeeData = {
          name: employeeName,
          department: empDept,
          email: email,
          employeeId: employeeId,
        };

        // Send the data to the PHP script using fetch
        fetch("add_employee.php", {
          // Replace 'add_employee.php' with the actual path to your PHP script
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(employeeData),
        })
          .then((response) => response.json()) // Parse the JSON response from PHP
          .then((data) => {
            if (data.success) {
              // Add the new employee to the allEmployees array
              allEmployees.push({
                name: employeeName,
                department: empDept,
                email: email,
                id: employeeId,
                status: "Unmarked", // Or whatever default status you want
                time: new Date().toLocaleTimeString(), // Or however you want to format the time
              });

              // Re-render the employee table to include the new employee
              renderEmployeeTable();

              // Optionally clear the form fields
              document.getElementById("employeeName").value = "";
              document.getElementById("empDept").value = "";
              document.getElementById("email").value = "";
              document.getElementById("employeeId").value = "";

              alert("Employee added successfully!");
            } else {
              alert("Error adding employee: " + data.message);
            }
          })
          .catch((error) => {
            console.error("Error:", error);
            alert("An error occurred while adding the employee.");
          });
      });

      // ~~~ PANIC BUTTON INITIATION ~~~
      document.addEventListener("DOMContentLoaded", function () {
        const panicButton = document.getElementById("panic-button");
        const confirmationModal = document.getElementById(
          "panic-confirmation-modal"
        );

        if (!panicButton) return;

        panicButton.addEventListener("click", function () {
          // Toggle state
          if (this.classList.contains("off")) {
            this.classList.remove("off");
            this.classList.add("on");

            // Show confirmation modal
            confirmationModal.style.display = "flex";

            // Handle "Continue" button click
            document
              .getElementById("confirm-continue")
              .addEventListener("click", () => {
                window.location.href = "Panic-page.html"; // Redirect to panic page
              });

            // Handle "Cancel" button click
            document
              .getElementById("cancel-panic")
              .addEventListener("click", () => {
                this.classList.remove("on");
                this.classList.add("off");
                confirmationModal.style.display = "none";
              });
          } else {
            this.classList.remove("on");
            this.classList.add("off");
          }
        });
      });
    </script>
  </body>
</html>
